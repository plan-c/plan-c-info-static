(function(root,factory,undefined){'use strict';if(typeof define==='function'&&define.amd){define([],factory)}else if(typeof exports==='object'){module.exports=factory()}else{root.CookiesEuBanner=factory()}}(window,function(){'use strict';var CookiesEuBanner,document=window.document;CookiesEuBanner=function(launchFunction,waitAccept,useLocalStorage,undefined){if(!(this instanceof CookiesEuBanner)){return new CookiesEuBanner(launchFunction)}
this.cookieTimeout=33696000000;this.bots=/bot|crawler|spider|crawling/i;this.cookieName='hasConsent';this.trackingCookiesNames=['__utma','__utmb','__utmc','__utmt','__utmv','__utmz','_ga','_gat','_gid'];this.launchFunction=launchFunction;this.waitAccept=waitAccept||!1;this.useLocalStorage=useLocalStorage||!1;this.init()};CookiesEuBanner.prototype={init:function(){var isBot=this.bots.test(navigator.userAgent);var dnt=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack;var isToTrack=(dnt!==null&&dnt!==undefined)?(dnt&&dnt!=='yes'&&dnt!==1&&dnt!=='1'):!0;if(isBot||!isToTrack||this.hasConsent()===!1){this.removeBanner(0);return!1}
if(this.hasConsent()===!0){this.launchFunction();return!0}
this.showBanner();if(!this.waitAccept){this.setConsent(!0)}},showBanner:function(){var _this=this,getElementById=document.getElementById.bind(document),banner=getElementById('cookies-eu-banner'),rejectButton=getElementById('cookies-eu-reject'),acceptButton=getElementById('cookies-eu-accept'),moreLink=getElementById('cookies-eu-more'),waitRemove=(banner.dataset.waitRemove===undefined)?0:parseInt(banner.dataset.waitRemove),addClickListener=this.addClickListener,removeBanner=_this.removeBanner.bind(_this,waitRemove);banner.style.display='block';if(moreLink){addClickListener(moreLink,function(){_this.deleteCookie(_this.cookieName)})}
if(acceptButton){addClickListener(acceptButton,function(){removeBanner();_this.setConsent(!0);_this.launchFunction()})}
if(rejectButton){addClickListener(rejectButton,function(){removeBanner();_this.setConsent(!1);_this.trackingCookiesNames.map(_this.deleteCookie)})}},setConsent:function(consent){if(this.useLocalStorage){return localStorage.setItem(this.cookieName,consent)}
this.setCookie(this.cookieName,consent)},hasConsent:function(){var cookieName=this.cookieName;var isCookieSetTo=function(value){return document.cookie.indexOf(cookieName+'='+value)>-1||localStorage.getItem(cookieName)===value};if(isCookieSetTo('true')){return!0}else if(isCookieSetTo('false')){return!1}
return null},setCookie:function(name,value){var date=new Date();date.setTime(date.getTime()+this.cookieTimeout);document.cookie=name+'='+value+';expires='+date.toGMTString()+';path=/'},deleteCookie:function(name){var hostname=document.location.hostname.replace(/^www\./,''),commonSuffix='; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/';document.cookie=name+'=; domain=.'+hostname+commonSuffix;document.cookie=name+'='+commonSuffix},addClickListener:function(DOMElement,callback){if(DOMElement.attachEvent){return DOMElement.attachEvent('onclick',callback)}
DOMElement.addEventListener('click',callback)},removeBanner:function(wait){setTimeout(function(){var banner=document.getElementById('cookies-eu-banner');if(banner&&banner.parentNode){banner.parentNode.removeChild(banner)}},wait)}};return CookiesEuBanner}))